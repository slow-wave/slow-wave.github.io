<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>[blockchain] ch5.Wallets | slow-wave blog</title><meta name=keywords content="blockchain,bitcoin"><meta name=description content="Mastering Bitcoin: Programming the Open Blockchain 2nd Edition 책을 정리한 내용입니다.
용어 정리 Mnemonic codes word : Mnemonic code word는 Deterministic wallet을 도출하기위해 seed로 사용되는 임의의 숫자를 나타내는 단어 순서임. 랜덤 숫자에 비해 읽고 쓰기 쉬움. HD wallet : 비트코인의 BIP32표준으로 정의되어 현재 가장 발전된 형태의 지갑임. 하나의 마스터 시드 키에서 다수의 지갑을 생성할 수 있어 편리함. Nondeterministic Wallet (JBOK wallet, just a bunch of keys) 지갑 안에 있는 키 끼리 연관성 없음."><meta name=author content="Me"><link rel=canonical href=http://slow-wave.github.io/post/blockchain/mastering_bitcoin_ch5/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.bc1149f4a72aa4858d3a9f71462f75e5884ffe8073ea9d6d5761d5663d651e20.css integrity="sha256-vBFJ9KcqpIWNOp9xRi915YhP/oBz6p1tV2HVZj1lHiA=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=http://slow-wave.github.io/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=http://slow-wave.github.io/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=http://slow-wave.github.io/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=http://slow-wave.github.io/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=http://slow-wave.github.io/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-123-45","auto"),ga("send","pageview"))</script><meta property="og:title" content="[blockchain] ch5.Wallets"><meta property="og:description" content="Mastering Bitcoin: Programming the Open Blockchain 2nd Edition 책을 정리한 내용입니다.
용어 정리 Mnemonic codes word : Mnemonic code word는 Deterministic wallet을 도출하기위해 seed로 사용되는 임의의 숫자를 나타내는 단어 순서임. 랜덤 숫자에 비해 읽고 쓰기 쉬움. HD wallet : 비트코인의 BIP32표준으로 정의되어 현재 가장 발전된 형태의 지갑임. 하나의 마스터 시드 키에서 다수의 지갑을 생성할 수 있어 편리함. Nondeterministic Wallet (JBOK wallet, just a bunch of keys) 지갑 안에 있는 키 끼리 연관성 없음."><meta property="og:type" content="article"><meta property="og:url" content="http://slow-wave.github.io/post/blockchain/mastering_bitcoin_ch5/"><meta property="og:image" content="http://slow-wave.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="post"><meta property="article:published_time" content="2022-10-01T16:21:44+09:00"><meta property="article:modified_time" content="2022-10-01T16:21:44+09:00"><meta property="og:site_name" content="ExampleSite"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="http://slow-wave.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="[blockchain] ch5.Wallets"><meta name=twitter:description content="Mastering Bitcoin: Programming the Open Blockchain 2nd Edition 책을 정리한 내용입니다.
용어 정리 Mnemonic codes word : Mnemonic code word는 Deterministic wallet을 도출하기위해 seed로 사용되는 임의의 숫자를 나타내는 단어 순서임. 랜덤 숫자에 비해 읽고 쓰기 쉬움. HD wallet : 비트코인의 BIP32표준으로 정의되어 현재 가장 발전된 형태의 지갑임. 하나의 마스터 시드 키에서 다수의 지갑을 생성할 수 있어 편리함. Nondeterministic Wallet (JBOK wallet, just a bunch of keys) 지갑 안에 있는 키 끼리 연관성 없음."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"http://slow-wave.github.io/post/"},{"@type":"ListItem","position":2,"name":"[blockchain] ch5.Wallets","item":"http://slow-wave.github.io/post/blockchain/mastering_bitcoin_ch5/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"[blockchain] ch5.Wallets","name":"[blockchain] ch5.Wallets","description":"Mastering Bitcoin: Programming the Open Blockchain 2nd Edition 책을 정리한 내용입니다.\n용어 정리 Mnemonic codes word : Mnemonic code word는 Deterministic wallet을 도출하기위해 seed로 사용되는 임의의 숫자를 나타내는 단어 순서임. 랜덤 숫자에 비해 읽고 쓰기 쉬움. HD wallet : 비트코인의 BIP32표준으로 정의되어 현재 가장 발전된 형태의 지갑임. 하나의 마스터 시드 키에서 다수의 지갑을 생성할 수 있어 편리함. Nondeterministic Wallet (JBOK wallet, just a bunch of keys) 지갑 안에 있는 키 끼리 연관성 없음.","keywords":["blockchain","bitcoin"],"articleBody":"Mastering Bitcoin: Programming the Open Blockchain 2nd Edition 책을 정리한 내용입니다.\n용어 정리 Mnemonic codes word : Mnemonic code word는 Deterministic wallet을 도출하기위해 seed로 사용되는 임의의 숫자를 나타내는 단어 순서임. 랜덤 숫자에 비해 읽고 쓰기 쉬움. HD wallet : 비트코인의 BIP32표준으로 정의되어 현재 가장 발전된 형태의 지갑임. 하나의 마스터 시드 키에서 다수의 지갑을 생성할 수 있어 편리함. Nondeterministic Wallet (JBOK wallet, just a bunch of keys) 지갑 안에 있는 키 끼리 연관성 없음. 비트코인 주소가 필요할 때마다 개인키를 랜덤으로 만들어내며 지갑을 주기적으로 백업해야함. 이는 비효율적이므로 테스트 이외의 용도로는 권장되지 않음. Deterministic Wallet 지갑 안에 있는 모든 키는 서로 관련 있음. 개인키는 One-way hash function을 이용해 하나의 seed에서 파생됨. Seed는 BPI-39로 정의되는 Mnemonic code로 부터 만들어짐. Seed는 랜덤으로 생성된 숫자이고 인덱스 번호나 chain code와 결합되어 개인키를 도출함. Seed가 있으면 파생된 모든 키를 복구 할 수 있기 때문에 1번만 백업하면 됨. HD Wallets (BIP-32/BIP-44) Deterministic wallet의 발전된 한 형태임. BIP-32 표준에 의해 정의되고 single root seed로부터 생성됨. 트리 구조이며 트리 구조의 어떤 브랜치에는 성격을 부여할 수 있음. CKD(child key derivation) 함수는 one-hash 함수에 기반하는데 child key를 만들기위해서는 다음의 것이 필요함.\n(1) 부모의 개인키나 공개키\n(2) chain code라고 불리는 seed(256bits)\n(3) index number(32bits) Chain code는 index와 자식키를 아는 것 만으로는 다른 자식 키를 도출할 수 없도록하는데 사용됨. 초기 chain code는 시드로부터 만들어지지만 후속 자식 chain code는 각 부모 chain code로 부터 파생됨. 개인키를 공개하지 않아도 extended public key로부터 많은 공개키를 만들 수 있음. depth가 무한대로 가면 트리 탐색이 어려워짐. 특별한 키를 관리하도록 키에 의미를 부여해줌. BPI-43 : 트리 구조의 목적을 나타내는 특수 식별자를 first hardened child index로 사용함. BPI-44 : m / purpose’ / coin_type’ / account’ / change / address_index Extended keys 확장키는 Key(개인키 or 공개키)와 chain code를 결합한 것임. Base58check를 이용해 인코딩됨. Xpub로 시작하는 키는 웹페이지에 공개될 수 있음. Hardened child key derivation Xpub은 chain code를 포함하므로, 자식 개인키가 유출될 경우 chain code와 함께 사용하여 다른 자식 키들을 모두 유도할 수 있음. 이런 위험에 대처하기위해 부모 공개키와 자식 체인 코드 사이의 관계를 끊는 hardened derivation 함수를 사용함. ","wordCount":"326","inLanguage":"en","datePublished":"2022-10-01T16:21:44+09:00","dateModified":"2022-10-01T16:21:44+09:00","author":{"@type":"Person","name":"Me"},"mainEntityOfPage":{"@type":"WebPage","@id":"http://slow-wave.github.io/post/blockchain/mastering_bitcoin_ch5/"},"publisher":{"@type":"Organization","name":"slow-wave blog","logo":{"@type":"ImageObject","url":"http://slow-wave.github.io/%3Clink%20/%20abs%20url%3E"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=http://slow-wave.github.io/ accesskey=h title="Home (Alt + H)"><img src=http://slow-wave.github.io/apple-touch-icon.png alt aria-label=logo height=35>Home</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=http://slow-wave.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=http://slow-wave.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=http://slow-wave.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=http://slow-wave.github.io/>Home</a>&nbsp;»&nbsp;<a href=http://slow-wave.github.io/post/>Posts</a></div><h1 class=post-title>[blockchain] ch5.Wallets</h1><div class=post-meta><span title='2022-10-01 16:21:44 +0900 KST'>October 1, 2022</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;326 words&nbsp;·&nbsp;Me&nbsp;|&nbsp;<a href=https://github.com/%3cpath_to_repo%3e/content/post/blockchain/mastering_bitcoin_ch5.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><ul><li><a href=#용어-정리>용어 정리</a></li><li><a href=#nondeterministic-wallet-jbok-wallet-just-a-bunch-of-keys>Nondeterministic Wallet (JBOK wallet, just a bunch of keys)</a></li><li><a href=#deterministic-wallet>Deterministic Wallet</a></li><li><a href=#hd-wallets-bip-32bip-44>HD Wallets (BIP-32/BIP-44)</a></li><li><a href=#extended-keys>Extended keys</a></li><li><a href=#hardened-child-key-derivation>Hardened child key derivation</a></li></ul></li></ul></nav></div></details></div><div class=post-content><p><strong>Mastering Bitcoin: Programming the Open Blockchain 2nd Edition</strong> 책을 정리한 내용입니다.</p><h3 id=용어-정리>용어 정리<a hidden class=anchor aria-hidden=true href=#용어-정리>#</a></h3><ul><li>Mnemonic codes word : Mnemonic code word는 Deterministic wallet을 도출하기위해 seed로 사용되는 임의의 숫자를 나타내는 단어 순서임. 랜덤 숫자에 비해 읽고 쓰기 쉬움.</li><li>HD wallet : 비트코인의 BIP32표준으로 정의되어 현재 가장 발전된 형태의 지갑임. 하나의 마스터 시드 키에서 다수의 지갑을 생성할 수 있어 편리함.</li></ul><h3 id=nondeterministic-wallet-jbok-wallet-just-a-bunch-of-keys>Nondeterministic Wallet (JBOK wallet, just a bunch of keys)<a hidden class=anchor aria-hidden=true href=#nondeterministic-wallet-jbok-wallet-just-a-bunch-of-keys>#</a></h3><ul><li>지갑 안에 있는 키 끼리 연관성 없음.</li><li>비트코인 주소가 필요할 때마다 개인키를 랜덤으로 만들어내며 지갑을 주기적으로 백업해야함. 이는 비효율적이므로 테스트 이외의 용도로는 권장되지 않음.</li></ul><h3 id=deterministic-wallet>Deterministic Wallet<a hidden class=anchor aria-hidden=true href=#deterministic-wallet>#</a></h3><ul><li>지갑 안에 있는 모든 키는 서로 관련 있음.</li><li>개인키는 One-way hash function을 이용해 하나의 seed에서 파생됨.</li><li>Seed는 BPI-39로 정의되는 Mnemonic code로 부터 만들어짐. Seed는 랜덤으로 생성된 숫자이고 인덱스 번호나 chain code와 결합되어 개인키를 도출함.</li><li>Seed가 있으면 파생된 모든 키를 복구 할 수 있기 때문에 1번만 백업하면 됨.</li></ul><h3 id=hd-wallets-bip-32bip-44>HD Wallets (BIP-32/BIP-44)<a hidden class=anchor aria-hidden=true href=#hd-wallets-bip-32bip-44>#</a></h3><ul><li>Deterministic wallet의 발전된 한 형태임. BIP-32 표준에 의해 정의되고 single root seed로부터 생성됨.</li><li>트리 구조이며 트리 구조의 어떤 브랜치에는 성격을 부여할 수 있음.</li><li>CKD(child key derivation) 함수는 one-hash 함수에 기반하는데 child key를 만들기위해서는 다음의 것이 필요함.<br>(1) 부모의 개인키나 공개키<br>(2) chain code라고 불리는 seed(256bits)<br>(3) index number(32bits)</li><li>Chain code는 index와 자식키를 아는 것 만으로는 다른 자식 키를 도출할 수 없도록하는데 사용됨. 초기 chain code는 시드로부터 만들어지지만 후속 자식 chain code는 각 부모 chain code로 부터 파생됨.</li><li>개인키를 공개하지 않아도 extended public key로부터 많은 공개키를 만들 수 있음.</li><li>depth가 무한대로 가면 트리 탐색이 어려워짐. 특별한 키를 관리하도록 키에 의미를 부여해줌.<ul><li>BPI-43 : 트리 구조의 목적을 나타내는 특수 식별자를 first hardened child index로 사용함.</li><li>BPI-44 : m / purpose’ / coin_type’ / account’ / change / address_index</li></ul></li></ul><h3 id=extended-keys>Extended keys<a hidden class=anchor aria-hidden=true href=#extended-keys>#</a></h3><ul><li>확장키는 Key(개인키 or 공개키)와 chain code를 결합한 것임. Base58check를 이용해 인코딩됨.</li><li>Xpub로 시작하는 키는 웹페이지에 공개될 수 있음.</li></ul><h3 id=hardened-child-key-derivation>Hardened child key derivation<a hidden class=anchor aria-hidden=true href=#hardened-child-key-derivation>#</a></h3><ul><li>Xpub은 chain code를 포함하므로, 자식 개인키가 유출될 경우 chain code와 함께 사용하여 다른 자식 키들을 모두 유도할 수 있음.</li><li>이런 위험에 대처하기위해 부모 공개키와 자식 체인 코드 사이의 관계를 끊는 hardened derivation 함수를 사용함.</li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=http://slow-wave.github.io/tags/blockchain/>blockchain</a></li><li><a href=http://slow-wave.github.io/tags/bitcoin/>bitcoin</a></li></ul><nav class=paginav><a class=prev href=http://slow-wave.github.io/post/blockchain/mastering_bitcoin_ch6/><span class=title>« Prev</span><br><span>[blockchain] ch6. Transactions</span></a>
<a class=next href=http://slow-wave.github.io/post/blockchain/mastering_bitcoin_ch4/><span class=title>Next »</span><br><span>[blockchain] ch4.Keys, Addresses</span></a></nav></footer><script src=https://utteranc.es/client.js repo=slow-wave/blog_comments issue-term=pathname theme=github-dark crossorigin=anonymous async></script></article></main><footer class=footer><span>&copy; 2022 <a href=http://slow-wave.github.io/>slow-wave blog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>