<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>[토비의 스프링 3.1] 4장 정리 | slow-wave blog</title><meta name=keywords content="Spring,Backend,Java"><meta name=description content="4.1 사라진 SQLException 4.1.1 초난감 예외처리 예외 블랙홀 - catch 문에 아무것도 넣지 않는 경우 무의미하고 무책임한 throws 예외 처리시 핵심 원칙 모든 예외는 적절하게 복구되거나 작업을 중단시키고 개발자에게 통보되어야 함. 4.1.2 예외의 종류와 특징 체크 예외(checked exception) - 명시적인 처리가 필요한 예외를 사용하고 다루는 법 자바에서 throw를 통해서 발생시킬 수 있는 예외 Error - java.lang.Error 클래스의 서브클래스들 시스템 레벨에서 특별한 작업을 하는게 아니라면 애플리케이션에서는 신경 쓰지 않아도 됨. Exception과 체크 예외 체크 예외 - Exception 클래스의 서브클래스이면서 RuntimeException 클래스를 상속하지 않은 것."><meta name=author content="Me"><link rel=canonical href=http://slow-wave.github.io/post/spring/spring_toby_4/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.bc1149f4a72aa4858d3a9f71462f75e5884ffe8073ea9d6d5761d5663d651e20.css integrity="sha256-vBFJ9KcqpIWNOp9xRi915YhP/oBz6p1tV2HVZj1lHiA=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=http://slow-wave.github.io/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=http://slow-wave.github.io/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=http://slow-wave.github.io/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=http://slow-wave.github.io/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=http://slow-wave.github.io/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-6F557TM67S"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-6F557TM67S",{anonymize_ip:!1})}</script><meta property="og:title" content="[토비의 스프링 3.1] 4장 정리"><meta property="og:description" content="4.1 사라진 SQLException 4.1.1 초난감 예외처리 예외 블랙홀 - catch 문에 아무것도 넣지 않는 경우 무의미하고 무책임한 throws 예외 처리시 핵심 원칙 모든 예외는 적절하게 복구되거나 작업을 중단시키고 개발자에게 통보되어야 함. 4.1.2 예외의 종류와 특징 체크 예외(checked exception) - 명시적인 처리가 필요한 예외를 사용하고 다루는 법 자바에서 throw를 통해서 발생시킬 수 있는 예외 Error - java.lang.Error 클래스의 서브클래스들 시스템 레벨에서 특별한 작업을 하는게 아니라면 애플리케이션에서는 신경 쓰지 않아도 됨. Exception과 체크 예외 체크 예외 - Exception 클래스의 서브클래스이면서 RuntimeException 클래스를 상속하지 않은 것."><meta property="og:type" content="article"><meta property="og:url" content="http://slow-wave.github.io/post/spring/spring_toby_4/"><meta property="og:image" content="http://slow-wave.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="post"><meta property="article:published_time" content="2023-01-08T02:31:22+09:00"><meta property="article:modified_time" content="2023-01-08T02:31:22+09:00"><meta property="og:site_name" content="slow-wave blog"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="http://slow-wave.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="[토비의 스프링 3.1] 4장 정리"><meta name=twitter:description content="4.1 사라진 SQLException 4.1.1 초난감 예외처리 예외 블랙홀 - catch 문에 아무것도 넣지 않는 경우 무의미하고 무책임한 throws 예외 처리시 핵심 원칙 모든 예외는 적절하게 복구되거나 작업을 중단시키고 개발자에게 통보되어야 함. 4.1.2 예외의 종류와 특징 체크 예외(checked exception) - 명시적인 처리가 필요한 예외를 사용하고 다루는 법 자바에서 throw를 통해서 발생시킬 수 있는 예외 Error - java.lang.Error 클래스의 서브클래스들 시스템 레벨에서 특별한 작업을 하는게 아니라면 애플리케이션에서는 신경 쓰지 않아도 됨. Exception과 체크 예외 체크 예외 - Exception 클래스의 서브클래스이면서 RuntimeException 클래스를 상속하지 않은 것."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"http://slow-wave.github.io/post/"},{"@type":"ListItem","position":2,"name":"[토비의 스프링 3.1] 4장 정리","item":"http://slow-wave.github.io/post/spring/spring_toby_4/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"[토비의 스프링 3.1] 4장 정리","name":"[토비의 스프링 3.1] 4장 정리","description":"4.1 사라진 SQLException 4.1.1 초난감 예외처리 예외 블랙홀 - catch 문에 아무것도 넣지 않는 경우 무의미하고 무책임한 throws 예외 처리시 핵심 원칙 모든 예외는 적절하게 복구되거나 작업을 중단시키고 개발자에게 통보되어야 함. 4.1.2 예외의 종류와 특징 체크 예외(checked exception) - 명시적인 처리가 필요한 예외를 사용하고 다루는 법 자바에서 throw를 통해서 발생시킬 수 있는 예외 Error - java.lang.Error 클래스의 서브클래스들 시스템 레벨에서 특별한 작업을 하는게 아니라면 애플리케이션에서는 신경 쓰지 않아도 됨. Exception과 체크 예외 체크 예외 - Exception 클래스의 서브클래스이면서 RuntimeException 클래스를 상속하지 않은 것.","keywords":["Spring","Backend","Java"],"articleBody":"4.1 사라진 SQLException 4.1.1 초난감 예외처리 예외 블랙홀 - catch 문에 아무것도 넣지 않는 경우 무의미하고 무책임한 throws 예외 처리시 핵심 원칙 모든 예외는 적절하게 복구되거나 작업을 중단시키고 개발자에게 통보되어야 함. 4.1.2 예외의 종류와 특징 체크 예외(checked exception) - 명시적인 처리가 필요한 예외를 사용하고 다루는 법 자바에서 throw를 통해서 발생시킬 수 있는 예외 Error - java.lang.Error 클래스의 서브클래스들 시스템 레벨에서 특별한 작업을 하는게 아니라면 애플리케이션에서는 신경 쓰지 않아도 됨. Exception과 체크 예외 체크 예외 - Exception 클래스의 서브클래스이면서 RuntimeException 클래스를 상속하지 않은 것. 일반적으로 예외라고 하면 체크 예외라고 생각해도 됨. 체크 예외가 발생할 수 있는 메소드를 사용할 경우 반드시 예외 처리 코드 작성해야함. 언체크 예외(unchecked exception) - RuntimeException을 상속한 클래스들 RuntimeException과 언체크/런타임 예외 런타임 예외는 주로 프로그램의 오류가 있을 때 발생하도록 의도된 것임. 예) NullPointerException - 오브젝트를 할당하지 않은 레퍼런스 변수 사용 시도시 발생하는 에러 4.1.3 예외처리 방법 예외 복구 - 예외상황을 파악하고 문제를 해결해서 정상 상태로 돌려놓기 예외처리 회피 - 예외처리를 자신이 담당하지 않고 자신을 호출한 쪽으로 던지기 throws 문으로 선언하거나 catch 문으로 잡은 후 rethrow 예외 복구처럼 회피의 의도가 분명해야함. 예외 전환 - 예외를 그대로 넘기지 않고 적절한 예외로 전화해서 던지기 목적 예외 던지기가 예외 상황에 대한 적절한 의미를 부여해주지 못해서 의미를 분명하게 해줄 수 있는 예외로 바꿔줌. 중첩 예외로 만드는 것이 좋음. 예외를 처리하기 쉽게 포장 주로 예외 처리를 강제하는 체크 예외를 언체크 예외인 런타임 예외로 바꾸는 경우에 사용 복구 불가능한 예외라면 애플리케이션 코드에서는 런타임 예외로 포장해서 던지는 것이 나음. 4.1.4 예외처리 전략 런타임 예외의 보편화 - 항상 복구할 수 있는 예외가 아니라면 일단 언체크 예외로 만드는 경향이 있음. 낙관적인 예외처리 기법임. 복구할 수 있는 예외는 없음. 예외 발생해도 런타임 예외이므로 시스템 레벨에서 알아서 처리해줄 것이고, 꼭 필요한 경우는 런타임 예외라도 잡아서 복구하거나 대응해줄 수 있으니 문제될 것 없음. 애플리케이션 예외 시스템 또는 외부의 예외상황이 원인이 아니라 애플리케이션 자체의 로직에 의해 의도적으로 발생시키고, 반드시 catch해서 무엇인가 조취를 취하도록 요구함. 예) 사용자가 요청한 금액을 은행계좌에서 출금하는 기능을 가진 메소드를 설계하는 법 첫번째 방법) 정상적인 출금처리 했을 경우, 잔고 부족이 발생했을 경우에 각각 다른 종류의 리턴 값 돌려줌. 두번째 방법) 정상적인 흐름 코드는 그대로 두고, 잔고 부족과 같은 예외 상황에서는 비즈니스적인 의미를 띤 예외 던지기 4.1.5 SQLException은 어떻게 됐나? JdbcTemplate과 콜백안에서 발생하는 모든 SQLException을 런타임 예외인 DataAccessException으로 포장해서 던져줌. 스프링의 API 메소드에 정의되어 있는 대부분의 예외는 런타임 예외임. 따라서 발생 가능한 예외가 있더라도 처리하도록 강제하지 않음. 4.2 예외 전환 JdbcTemplate이 던지는 DataAccessException은 일단 런타임 예외로 SQLException을 포장해주는 역할을 함. → 복구 불가능한 예외인 SQLException에 대해 애플리케이션 레벨에서 신경쓰지 않도록 해줌. 4.2.1 JDBC의 한계 비표준 SQL - 대부분의 DB는 표준을 따르지 않는 비표준 문법과 기능도 제공함. DAO를 DB별로 만들어 사용하거나 SQL을 독립시켜서 바꿔 쓸 수 있게하는 식으로 해결 가능 호환성 없는 SQLException의 DB 에러 정보 DB마다 에러의 종류와 원인이 제각각임. 4.2.2 DB 에러 코드 매핑을 통한 전환 스프링은 DB별 에러 코드를 분류해서 스프링이 정의한 예외 클래스와 매핑해놓은 에러 코드 매핑정보 테이블을 만들어두고 이용함. 4.2.3 DAO 인터페이스와 DataAccessException 계층구조 DataAccessException은 데이터 엑세스 기술에서 발생하는 예외에도 적용됨. DAO의 사용 기술과 구현 코드는 전략 패턴과 DI를 통해 DAO를 사용하는 클라이언트에게 감출 수 있지만, 메소드 선언에 나타나는 예외정보가 문제가 될 수 있음. 데이터 액세스 기술이 달라지면 같은 상황에서도 다른 종류의 예외가 던져짐. → DAO의 사용기술에 따라 예외 처리 방법 달라짐. 데이터 액세스 예외 추상화와 DataAccessException 계층구조 스프링은 자바의 다양한 데이터 액세스 기술을 사용할 떄 발생하는 예외들을 추상화해서 DataAcessException 계층구조에 정리함. 4.2.4 기술에 독립적인 UserDao 만들기 DataAccessException 활용 시 주의사항 DataAccessException이 기술에 상관없이 추상화된 공통 예외로 변환해주지만 완벽하진 않음. 학습 테스트를 만들어서 실제로 전환되는 예외의 종류 확인해야함. 스프링에서의 방법 - DB 에러 코드 사용 SQLException을 코드에서 직접 전환하고 싶다면 SQLExceptionTranslator 인터페이스를 구현한 클래스 중에서 SQLErrorCodeExceptionTranslator 사용하면 됨. 참고 자료 [book] 토비의 스프링 3.1 Vol 1: 스프링의 이해와 원리, 이일민 ","wordCount":"594","inLanguage":"en","datePublished":"2023-01-08T02:31:22+09:00","dateModified":"2023-01-08T02:31:22+09:00","author":{"@type":"Person","name":"Me"},"mainEntityOfPage":{"@type":"WebPage","@id":"http://slow-wave.github.io/post/spring/spring_toby_4/"},"publisher":{"@type":"Organization","name":"slow-wave blog","logo":{"@type":"ImageObject","url":"http://slow-wave.github.io/%3Clink%20/%20abs%20url%3E"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=http://slow-wave.github.io/ accesskey=h title="Home (Alt + H)"><img src=http://slow-wave.github.io/apple-touch-icon.png alt aria-label=logo height=35>Home</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=http://slow-wave.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=http://slow-wave.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=http://slow-wave.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=http://slow-wave.github.io/>Home</a>&nbsp;»&nbsp;<a href=http://slow-wave.github.io/post/>Posts</a></div><h1 class=post-title>[토비의 스프링 3.1] 4장 정리</h1><div class=post-meta><span title='2023-01-08 02:31:22 +0900 KST'>January 8, 2023</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;594 words&nbsp;·&nbsp;Me&nbsp;|&nbsp;<a href=https://github.com/%3cpath_to_repo%3e/content/post/spring/spring_toby_4.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#41-사라진-sqlexception>4.1 사라진 SQLException</a><ul><li><a href=#411-초난감-예외처리>4.1.1 초난감 예외처리</a></li><li><a href=#412-예외의-종류와-특징>4.1.2 예외의 종류와 특징</a></li><li><a href=#413-예외처리-방법>4.1.3 예외처리 방법</a></li><li><a href=#414-예외처리-전략>4.1.4 예외처리 전략</a></li><li><a href=#415-sqlexception은-어떻게-됐나>4.1.5 SQLException은 어떻게 됐나?</a></li></ul></li><li><a href=#42-예외-전환>4.2 예외 전환</a><ul><li><a href=#421-jdbc의-한계>4.2.1 JDBC의 한계</a></li><li><a href=#422-db-에러-코드-매핑을-통한-전환>4.2.2 DB 에러 코드 매핑을 통한 전환</a></li><li><a href=#423-dao-인터페이스와-dataaccessexception-계층구조>4.2.3 DAO 인터페이스와 DataAccessException 계층구조</a></li><li><a href=#424-기술에-독립적인-userdao-만들기>4.2.4 기술에 독립적인 UserDao 만들기</a></li></ul></li><li><a href=#참고-자료>참고 자료</a></li></ul></nav></div></details></div><div class=post-content><h2 id=41-사라진-sqlexception>4.1 사라진 SQLException<a hidden class=anchor aria-hidden=true href=#41-사라진-sqlexception>#</a></h2><h3 id=411-초난감-예외처리>4.1.1 초난감 예외처리<a hidden class=anchor aria-hidden=true href=#411-초난감-예외처리>#</a></h3><ul><li><ol><li>예외 블랙홀 - catch 문에 아무것도 넣지 않는 경우</li></ol></li><li><ol start=2><li>무의미하고 무책임한 throws</li></ol></li><li>예외 처리시 핵심 원칙<ul><li>모든 예외는 적절하게 복구되거나 작업을 중단시키고 개발자에게 통보되어야 함.</li></ul></li></ul><h3 id=412-예외의-종류와-특징>4.1.2 예외의 종류와 특징<a hidden class=anchor aria-hidden=true href=#412-예외의-종류와-특징>#</a></h3><ul><li>체크 예외(checked exception) - 명시적인 처리가 필요한 예외를 사용하고 다루는 법</li><li>자바에서 throw를 통해서 발생시킬 수 있는 예외<ul><li><ol><li>Error - java.lang.Error 클래스의 서브클래스들</li></ol><ul><li>시스템 레벨에서 특별한 작업을 하는게 아니라면 애플리케이션에서는 신경 쓰지 않아도 됨.</li></ul></li><li><ol start=2><li>Exception과 체크 예외</li></ol><ul><li>체크 예외 - Exception 클래스의 서브클래스이면서 RuntimeException 클래스를 상속하지 않은 것.<ul><li>일반적으로 예외라고 하면 체크 예외라고 생각해도 됨.</li><li>체크 예외가 발생할 수 있는 메소드를 사용할 경우 반드시 예외 처리 코드 작성해야함.</li></ul></li><li>언체크 예외(unchecked exception) - RuntimeException을 상속한 클래스들</li></ul></li><li><ol start=3><li>RuntimeException과 언체크/런타임 예외</li></ol><ul><li>런타임 예외는 주로 프로그램의 오류가 있을 때 발생하도록 의도된 것임.</li><li>예) NullPointerException - 오브젝트를 할당하지 않은 레퍼런스 변수 사용 시도시 발생하는 에러</li></ul></li></ul></li></ul><h3 id=413-예외처리-방법>4.1.3 예외처리 방법<a hidden class=anchor aria-hidden=true href=#413-예외처리-방법>#</a></h3><ul><li><ol><li>예외 복구 - 예외상황을 파악하고 문제를 해결해서 정상 상태로 돌려놓기</li></ol></li><li><ol start=2><li>예외처리 회피 - 예외처리를 자신이 담당하지 않고 자신을 호출한 쪽으로 던지기</li></ol><ul><li>throws 문으로 선언하거나 catch 문으로 잡은 후 rethrow</li><li>예외 복구처럼 회피의 의도가 분명해야함.</li></ul></li><li><ol start=3><li>예외 전환 - 예외를 그대로 넘기지 않고 적절한 예외로 전화해서 던지기</li></ol><ul><li>목적<ul><li>예외 던지기가 예외 상황에 대한 적절한 의미를 부여해주지 못해서 의미를 분명하게 해줄 수 있는 예외로 바꿔줌.<ul><li>중첩 예외로 만드는 것이 좋음.</li></ul></li><li>예외를 처리하기 쉽게 포장<ul><li>주로 예외 처리를 강제하는 체크 예외를 언체크 예외인 런타임 예외로 바꾸는 경우에 사용</li></ul></li></ul></li></ul></li><li>복구 불가능한 예외라면 애플리케이션 코드에서는 런타임 예외로 포장해서 던지는 것이 나음.</li></ul><h3 id=414-예외처리-전략>4.1.4 예외처리 전략<a hidden class=anchor aria-hidden=true href=#414-예외처리-전략>#</a></h3><ul><li><ol><li>런타임 예외의 보편화 - 항상 복구할 수 있는 예외가 아니라면 일단 언체크 예외로 만드는 경향이 있음.</li></ol><ul><li>낙관적인 예외처리 기법임. 복구할 수 있는 예외는 없음. 예외 발생해도 런타임 예외이므로 시스템 레벨에서 알아서 처리해줄 것이고, 꼭 필요한 경우는 런타임 예외라도 잡아서 복구하거나 대응해줄 수 있으니 문제될 것 없음.</li></ul></li><li><ol start=2><li>애플리케이션 예외</li></ol><ul><li>시스템 또는 외부의 예외상황이 원인이 아니라 애플리케이션 자체의 로직에 의해 의도적으로 발생시키고, 반드시 catch해서 무엇인가 조취를 취하도록 요구함.</li><li>예) 사용자가 요청한 금액을 은행계좌에서 출금하는 기능을 가진 메소드를 설계하는 법<ul><li>첫번째 방법) 정상적인 출금처리 했을 경우, 잔고 부족이 발생했을 경우에 각각 다른 종류의 리턴 값 돌려줌.</li><li>두번째 방법) 정상적인 흐름 코드는 그대로 두고, 잔고 부족과 같은 예외 상황에서는 비즈니스적인 의미를 띤 예외 던지기</li></ul></li></ul></li></ul><h3 id=415-sqlexception은-어떻게-됐나>4.1.5 SQLException은 어떻게 됐나?<a hidden class=anchor aria-hidden=true href=#415-sqlexception은-어떻게-됐나>#</a></h3><ul><li>JdbcTemplate과 콜백안에서 발생하는 모든 SQLException을 런타임 예외인 DataAccessException으로 포장해서 던져줌.</li><li>스프링의 API 메소드에 정의되어 있는 대부분의 예외는 런타임 예외임. 따라서 발생 가능한 예외가 있더라도 처리하도록 강제하지 않음.</li></ul><h2 id=42-예외-전환>4.2 예외 전환<a hidden class=anchor aria-hidden=true href=#42-예외-전환>#</a></h2><ul><li>JdbcTemplate이 던지는 DataAccessException은 일단 런타임 예외로 SQLException을 포장해주는 역할을 함.
→ 복구 불가능한 예외인 SQLException에 대해 애플리케이션 레벨에서 신경쓰지 않도록 해줌.</li></ul><h3 id=421-jdbc의-한계>4.2.1 JDBC의 한계<a hidden class=anchor aria-hidden=true href=#421-jdbc의-한계>#</a></h3><ul><li><ol><li>비표준 SQL - 대부분의 DB는 표준을 따르지 않는 비표준 문법과 기능도 제공함.</li></ol><ul><li>DAO를 DB별로 만들어 사용하거나 SQL을 독립시켜서 바꿔 쓸 수 있게하는 식으로 해결 가능</li></ul></li><li><ol start=2><li>호환성 없는 SQLException의 DB 에러 정보</li></ol><ul><li>DB마다 에러의 종류와 원인이 제각각임.</li></ul></li></ul><h3 id=422-db-에러-코드-매핑을-통한-전환>4.2.2 DB 에러 코드 매핑을 통한 전환<a hidden class=anchor aria-hidden=true href=#422-db-에러-코드-매핑을-통한-전환>#</a></h3><ul><li>스프링은 DB별 에러 코드를 분류해서 스프링이 정의한 예외 클래스와 매핑해놓은 에러 코드 매핑정보 테이블을 만들어두고 이용함.</li></ul><h3 id=423-dao-인터페이스와-dataaccessexception-계층구조>4.2.3 DAO 인터페이스와 DataAccessException 계층구조<a hidden class=anchor aria-hidden=true href=#423-dao-인터페이스와-dataaccessexception-계층구조>#</a></h3><ul><li>DataAccessException은 데이터 엑세스 기술에서 발생하는 예외에도 적용됨.</li><li>DAO의 사용 기술과 구현 코드는 전략 패턴과 DI를 통해 DAO를 사용하는 클라이언트에게 감출 수 있지만, 메소드 선언에 나타나는 예외정보가 문제가 될 수 있음.</li><li>데이터 액세스 기술이 달라지면 같은 상황에서도 다른 종류의 예외가 던져짐. → DAO의 사용기술에 따라 예외 처리 방법 달라짐.</li><li>데이터 액세스 예외 추상화와 DataAccessException 계층구조<ul><li>스프링은 자바의 다양한 데이터 액세스 기술을 사용할 떄 발생하는 예외들을 추상화해서 DataAcessException 계층구조에 정리함.</li></ul></li></ul><h3 id=424-기술에-독립적인-userdao-만들기>4.2.4 기술에 독립적인 UserDao 만들기<a hidden class=anchor aria-hidden=true href=#424-기술에-독립적인-userdao-만들기>#</a></h3><ul><li>DataAccessException 활용 시 주의사항<ul><li>DataAccessException이 기술에 상관없이 추상화된 공통 예외로 변환해주지만 완벽하진 않음.</li><li>학습 테스트를 만들어서 실제로 전환되는 예외의 종류 확인해야함.</li><li>스프링에서의 방법 - DB 에러 코드 사용<ul><li>SQLException을 코드에서 직접 전환하고 싶다면 SQLExceptionTranslator 인터페이스를 구현한 클래스 중에서 SQLErrorCodeExceptionTranslator 사용하면 됨.</li></ul></li></ul></li></ul><h2 id=참고-자료>참고 자료<a hidden class=anchor aria-hidden=true href=#참고-자료>#</a></h2><ul><li><a href=https://product.kyobobook.co.kr/detail/S000000935358>[book] <strong>토비의 스프링 3.1 Vol 1: 스프링의 이해와 원리, 이일민</strong></a></li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=http://slow-wave.github.io/tags/spring/>Spring</a></li><li><a href=http://slow-wave.github.io/tags/backend/>Backend</a></li><li><a href=http://slow-wave.github.io/tags/java/>Java</a></li></ul><nav class=paginav><a class=prev href=http://slow-wave.github.io/post/spring/spring_toby_5/><span class=title>« Prev</span><br><span>[토비의 스프링 3.1] 5장 정리 - 1</span></a>
<a class=next href=http://slow-wave.github.io/post/spring/spring_toby_3/><span class=title>Next »</span><br><span>[토비의 스프링 3.1] 3장 정리</span></a></nav></footer><script src=https://utteranc.es/client.js repo=slow-wave/blog_comments issue-term=pathname theme=github-dark crossorigin=anonymous async></script></article></main><footer class=footer><span>&copy; 2023 <a href=http://slow-wave.github.io/>slow-wave blog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>